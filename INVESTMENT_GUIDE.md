# 🚀 OnChain Fund Platform - 投資者使用指南

## 📋 功能概覽

OnChain Fund Platform 支援以下主要功能：

### 🏗️ 基金經理功能
1. **創建金庫 (Create Your Vault)** - 設置新的投資基金
2. **管理現有金庫** - 管理已創建的基金

### 💰 投資者功能  
1. **存款 (Deposit)** - 投資 ASVT 代幣到基金中
2. **贖回 (Redeem)** - 贖回基金股份獲得底層資產

---

## 🔧 投資者操作流程

### 步驟 1: 連接錢包
1. 點擊右上角的 **"Connect Wallet"** 按鈕
2. 選擇 MetaMask 並授權連接
3. 確保錢包連接到 **Sepolia 測試網**

### 步驟 2: 獲取 ASVT 代幣
- ASVT 代幣地址: `0x932b08d5553b7431FB579cF27565c7Cd2d4b8fE0`
- 這是計價資產，您需要持有 ASVT 才能投資

### 步驟 3: 找到金庫地址
基金經理創建金庫後，會獲得兩個重要地址：
- **Vault Proxy 地址** - 用於投資和贖回
- **Comptroller 地址** - 控制器地址

### 步驟 4: 投資流程

#### 4.1 進入管理頁面
1. 點擊首頁的 **"Manage Existing Vault"**
2. 輸入 Vault Proxy 地址
3. 系統會自動載入金庫資訊

#### 4.2 存款操作 💳
1. **查看資訊**：
   - 檢查您的 ASVT 餘額
   - 查看金庫的總資產價值 (GAV)
   - 確認股份價值

2. **授權代幣**：
   - 在左側存款區域輸入要投資的 ASVT 數量
   - 點擊 **"1️⃣ 授權"** 按鈕
   - 在 MetaMask 中確認授權交易
   - 等待交易確認

3. **執行存款**：
   - 授權完成後，點擊 **"2️⃣ 存款"** 按鈕
   - 在 MetaMask 中確認存款交易
   - 等待交易確認
   - 成功後您會收到基金股份

#### 4.3 贖回操作 🏦
1. **檢查股份**：
   - 確認您持有的基金股份數量
   - 查看當前股份價值

2. **執行贖回**：
   - 在右側贖回區域輸入要贖回的股份數量
   - 點擊 **"💸 贖回股份"** 按鈕
   - 在 MetaMask 中確認贖回交易
   - 等待交易確認
   - 成功後您會收到按比例分配的底層資產

---

## 🔍 重要說明

### Gas 費用
- 所有交易都需要支付 ETH 作為 gas 費用
- 確保錢包中有足夠的 Sepolia ETH

### 網路要求
- 平台僅支援 **Sepolia 測試網**
- Chain ID: `11155111` (0xaa36a7)

### 安全提醒
- 始終驗證合約地址的正確性
- 在主網上操作前，先在測試網熟悉流程
- 保護好您的私鑰和助記詞

### 交易確認
- 每個操作都會在 Sepolia Etherscan 上有交易記錄
- 可以點擊地址鏈接查看詳細信息

---

## 🛠️ 故障排除

### 常見問題

**Q: MetaMask 沒有彈出？**
A: 檢查瀏覽器是否安裝 MetaMask，嘗試手動打開擴展程式

**Q: 顯示網路錯誤？**
A: 確保 MetaMask 連接到 Sepolia 測試網

**Q: 授權失敗？**
A: 確保您有足夠的 ETH 支付 gas 費用

**Q: 找不到基金資訊？**
A: 檢查 Vault Proxy 地址是否正確，確保基金已在 Sepolia 上部署

**Q: 存款失敗？**
A: 確保已完成授權步驟，且 ASVT 餘額充足

**Q: 贖回失敗？**
A: 檢查是否有足夠的股份，且是否超過了鎖定期

### 調試步驟
1. 打開瀏覽器開發者工具 (F12)
2. 查看 Console 標籤中的錯誤信息
3. 檢查 Network 標籤中的交易狀態

---

## 📊 平台數據解釋

### 金庫資訊
- **總資產價值 (GAV)**: 基金持有的所有資產的總價值
- **股份價值**: 每個股份對應的資產價值
- **總股份**: 基金發行的股份總數

### 個人資產
- **您的股份**: 您持有的基金股份數量
- **您的 ASVT 餘額**: 錢包中可用於投資的 ASVT 數量
- **已授權額度**: 您已授權給基金使用的 ASVT 數量

---

## 🔐 智能合約架構

### 合約組件
1. **FundDeployer**: 基金工廠合約，用於創建新基金
2. **VaultProxy**: 金庫代理合約，管理資產和股份
3. **ComptrollerProxy**: 控制器合約，處理投資邏輯
4. **ASVT Token**: ERC20 代幣，作為計價資產

### 交易流程
```
投資流程：
ASVT Token → (approve) → ComptrollerProxy → (buyShares) → VaultProxy
      ↓
   獲得基金股份

贖回流程：
基金股份 → (redeemSharesInKind) → ComptrollerProxy → VaultProxy
      ↓
   獲得底層資產
```

---

## 🌐 有用的鏈接

- **Sepolia Etherscan**: https://sepolia.etherscan.io/
- **Sepolia 測試 ETH 水龍頭**: https://sepoliafaucet.com/
- **MetaMask 下載**: https://metamask.io/
- **ASVT 代幣合約**: [0x932b08d5553b7431FB579cF27565c7Cd2d4b8fE0](https://sepolia.etherscan.io/address/0x932b08d5553b7431FB579cF27565c7Cd2d4b8fE0)
- **基金工廠合約**: [0x9D2C19a267caDA33da70d74aaBF9d2f75D3CdC14](https://sepolia.etherscan.io/address/0x9D2C19a267caDA33da70d74aaBF9d2f75D3CdC14)

---

## 🚀 快速開始示例

### 完整操作示例：

1. **準備階段**：
   ```
   ✅ 安裝 MetaMask
   ✅ 切換到 Sepolia 測試網
   ✅ 獲取測試 ETH (用於 gas)
   ✅ 獲取 ASVT 代幣 (用於投資)
   ```

2. **創建基金** (基金經理)：
   ```
   1. 連接錢包 → 選擇 "Create Your Vault"
   2. 填寫基金名稱和代號
   3. 確認計價資產為 ASVT
   4. 完成創建，記錄 Vault Proxy 地址
   ```

3. **投資基金** (投資者)：
   ```
   1. 連接錢包 → 選擇 "Manage Existing Vault"
   2. 輸入 Vault Proxy 地址
   3. 輸入投資金額 → 點擊 "授權"
   4. 授權完成後 → 點擊 "存款"
   5. 確認交易，獲得基金股份
   ```

4. **贖回操作** (投資者)：
   ```
   1. 在同一頁面右側輸入贖回股份數量
   2. 點擊 "贖回股份"
   3. 確認交易，獲得底層資產
   ```

---

## 💡 提示和最佳實踐

### 投資建議
- 開始時使用小額進行測試
- 理解基金的投資策略和風險
- 定期檢查基金表現
- 注意股份鎖定期限制

### 技術建議
- 保持 MetaMask 更新到最新版本
- 在交易前檢查 gas 費用設置
- 保存重要的交易哈希和地址
- 定期備份錢包和私鑰

### 安全建議
- 永遠不要分享私鑰或助記詞
- 在正式環境前先在測試網練習
- 驗證所有合約地址的正確性
- 使用硬件錢包增加安全性

---

**🎉 現在您已經準備好使用 OnChain Fund Platform 了！**

如果您遇到任何問題或需要技術支援，請檢查瀏覽器控制台的錯誤信息，或在 GitHub 上提交 issue。
